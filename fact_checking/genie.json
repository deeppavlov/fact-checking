{
    "chainer": {
        "in": ["text_source"],
        "pipe": [
          {
            "class_name": "torch_transformers_preprocessor",
            "vocab_file": "{TRANSFORMER}",
            "in": ["text_source"],
            "out": ["features_src"]
          },
          {
              "class_name": "models.genie_generation:GenIEBARTGeneration",
              "model_name": "{TRANSFORMER}",
              "save_path": "{MODEL_PATH}/model",
              "load_path": "{MODEL_PATH}/model",
              "optimizer": "AdamW",
              "optimizer_parameters" : {
                  "lr" : 3.0e-05,
                  "eps": 1.0e-08,
                  "weight_decay": 0.01
              },
              "lr_scheduler": "PolynomialLR",
              "lr_scheduler_parameters": {
                  "total_iters": 1000
              },
              "free_generation": false,
              "bos_as_first_token_generated": true,
              "relation_trie_path": "{MODEL_PATH}/dbpedia_rels_trie.pickle",
              "entity_trie_path": "{MODEL_PATH}/dbpedia_ents_trie.pickle",
              "in": ["features_src"],
              "out": ["triplets"]   
          }
        ],
        "out": ["triplets"]
      },  
      "metadata": {
        "variables": {
          "ROOT_PATH": "~/.deeppavlov",
          "DOWNLOADS_PATH": "{ROOT_PATH}/downloads",
          "MODEL_PATH": "{ROOT_PATH}/models/genie",
          "TRANSFORMER": "facebook/bart-base"
        },
        "download": [
            {
              "url": "http://files.deeppavlov.ai/tmp/raushan/genie/genie_files.tar.gz",
              "subdir": "{MODEL_PATH}"
            }
          ]
      }
    }